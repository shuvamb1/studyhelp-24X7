<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles1.css') }}">
    <title>StudyHelp 24x7</title>
	<script async src="https://www.googletagmanager.com/gtag/js?id=G-B31J01CXSV"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B31J01CXSV');
</script>
</head>
<body bgcolor="#e4e4ed">
    <header style="font-family:Gagalin">
        <div id="logo">üåê STUDYHELP 24X7</div>
        <div class="auth-buttons" style="font-family:Gagalin">
		&nbsp;&nbsp;&nbsp;
            <button id="login" style="font-family:Gagalin;color:white">SIGN IN</button>&nbsp;&nbsp;&nbsp;
            <button id="sign" style="font-family:Gagalin;color:white">SIGN UP</button>
        </div>
    </header>
    <main style="font-family:Gagalin">
		<div style="height:91%;width:91%;padding:3%">
            <input type="text" id="queryInput" placeholder="Ask StudyHelp Bot" style="font-family:Lilita One;font-size:20px;padding:8px;border-radius: 5px;">
			<button onclick="askDeepSeek()" style="font-family:Gagalin;color:white;">Ask</button>
			<p id="response"></p>
		</div>
        
		<script>
        function askDeepSeek() {
    let userQuery = document.getElementById("queryInput").value;
    let url = `http://127.0.0.1:5001/ask_deepseek?query=${encodeURIComponent(userQuery)}`;

    fetch(url)
        .then(response => {
            if (!response.ok) {
                throw new Error("Network response was not OK");
            }
            return response.json(); // Parse JSON
        })
        .then(data => {
            if (data.choices) {
                document.getElementById("response").innerText = data.choices[0].message.content;
            } else {
                document.getElementById("response").innerText = "Error: Invalid response format!";
            }
        })
        .catch(error => {
            console.error("Error:", error);
            document.getElementById("response").innerText = "Error fetching response!";
        });
}
document.getElementById('logo').addEventListener('click', function() {
            window.location.href = 'index1.html';
        });
    </script>
    </main>
</body>
</html>
